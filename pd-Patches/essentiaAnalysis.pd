#N canvas 109 138 1080 639 10;
#X msg -337 -178 delayMode 0;
#X floatatom 18 -76 5 0 0 0 - - -;
#X obj 18 -138 route list;
#X obj 18 -48 vsl 15 128 0 0.5 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 11203 1;
#X floatatom 100 -75 5 0 0 0 - - -;
#X obj 100 -47 vsl 15 128 0 1500 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 2383 1;
#X obj -357 -81 sigmund~;
#X obj -357 -50 moses 0;
#X obj -318 25 vsl 15 128 30 80 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 4778 1;
#X floatatom 188 -76 5 0 0 0 - - -;
#X obj 188 -48 vsl 15 128 0 3 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 0 1;
#X obj -117 -189 rms~;
#X obj 18 -104 route noisiness.mean f0.mean loudness.mean;
#X obj -117 -156 average 50;
#X text -356 29 pitch;
#X text -99 -115 loudness;
#X obj -318 -13 average 20;
#X text 37 -32 noisiness;
#X text 119 -32 essentiaf0;
#X text 207 -32 essentialoudness;
#X floatatom -257 102 5 0 0 0 - - -;
#X obj -358 -225 inlet~ voice_in;
#X obj -266 -66 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 493 157 outlet onset;
#X obj 346 229 outlet onset rate;
#X obj -217 -127 s \$0-avg;
#X obj 18 -170 r \$0-avg;
#X obj -285 -115 s \$0-inst;
#X obj 348 12 r \$0-inst;
#X obj -308 213 outlet pitch midi continuous;
#X obj 345 37 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#N canvas 245 53 804 592 onsetDetector 0;
#X obj 354 100 route list;
#X obj 373 268 random;
#X obj 406 227 length;
#X obj 354 210 t l b l;
#X floatatom 361 143 5 0 0 0 - - -;
#X floatatom 414 247 5 0 0 0 - - -;
#X msg 360 165 reset;
#X text 447 186 stores elapsed time between detections;
#X obj 354 122 route i.strength;
#X floatatom 426 285 5 0 0 0 - - -;
#X obj 315 130 bng 20 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 461 115 Among the many features reported \, We take the onset
strenght and use that to trigger onsets.;
#X obj 354 187 list_iot 24000;
#X text 449 248 onsets in buffer;
#X text 463 285 on every trigger \, play a random onset in buffer (0
= oldest);
#X obj 71 149 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 73 202 f 0;
#X obj 131 201 + 1;
#X floatatom 73 237 5 0 0 0 - - -;
#X obj 150 78 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 67 92 metro 1000;
#X obj 64 53 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1 1
;
#X obj 35 118 t b b;
#X obj 149 143 t b 0 b;
#X obj 63 23 loadbang;
#X obj 71 352 outlet;
#X obj 303 351 outlet;
#X obj 187 256 f;
#X obj 187 351 outlet;
#X obj 355 31 inlet essentia instantaneous;
#X connect 0 0 8 0;
#X connect 1 0 9 0;
#X connect 2 0 5 0;
#X connect 2 0 1 1;
#X connect 3 1 1 0;
#X connect 3 2 2 0;
#X connect 6 0 12 0;
#X connect 8 0 4 0;
#X connect 8 0 12 0;
#X connect 8 0 10 0;
#X connect 10 0 16 0;
#X connect 10 0 26 0;
#X connect 12 0 3 0;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 16 0 18 0;
#X connect 16 0 27 1;
#X connect 17 0 16 1;
#X connect 18 0 25 0;
#X connect 19 0 23 0;
#X connect 20 0 19 0;
#X connect 21 0 20 0;
#X connect 23 0 16 0;
#X connect 23 1 16 1;
#X connect 23 2 27 0;
#X connect 24 0 21 0;
#X connect 27 0 28 0;
#X connect 29 0 0 0;
#X restore 484 -56 pd onsetDetector;
#X obj 577 -13 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X floatatom 485 -15 5 0 0 0 - - -;
#X floatatom 529 2 5 0 0 0 - - -;
#X floatatom 353 154 5 0 0 0 - - -;
#X obj -358 -152 essentiaRT~ 4;
#N canvas 766 191 450 300 OnsetRate 1;
#X obj 74 84 bng 15 50 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 141 115 metro 20;
#X obj 141 91 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X msg 98 148 0;
#X obj 142 45 loadbang;
#X msg 141 66 1;
#X obj 75 173 smooth 0.02;
#X obj 67 42 inlet BANGS;
#X obj 73 277 outlet Onset Rate;
#X obj 75 253 clip 0 1;
#X msg 75 113 6;
#X obj 83 202 * 1.1;
#X obj 80 225 - 0.1;
#X connect 0 0 10 0;
#X connect 1 0 3 0;
#X connect 2 0 1 0;
#X connect 3 0 6 0;
#X connect 4 0 5 0;
#X connect 5 0 2 0;
#X connect 6 0 11 0;
#X connect 7 0 0 0;
#X connect 9 0 8 0;
#X connect 10 0 6 0;
#X connect 11 0 12 0;
#X connect 12 0 9 0;
#X restore 353 116 pd OnsetRate;
#X obj 345 62 t b b b;
#X obj -90 -64 autoscale 0 1;
#X floatatom -104 -134 5 0 0 0 - - -;
#X msg 1011 -81 reset;
#X msg -82 -88 reset;
#X obj -108 126 outlet normalized loudness;
#X obj -30 -124 r RESET;
#X obj -134 -23 vsl 15 128 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 56 1;
#X connect 0 0 36 0;
#X connect 1 0 3 0;
#X connect 2 0 12 0;
#X connect 4 0 5 0;
#X connect 6 0 7 0;
#X connect 7 1 16 0;
#X connect 8 0 29 0;
#X connect 9 0 10 0;
#X connect 11 0 13 0;
#X connect 12 0 1 0;
#X connect 12 1 4 0;
#X connect 12 2 9 0;
#X connect 13 0 40 0;
#X connect 13 0 39 0;
#X connect 16 0 8 0;
#X connect 16 0 20 0;
#X connect 21 0 6 0;
#X connect 21 0 11 0;
#X connect 21 0 36 0;
#X connect 26 0 2 0;
#X connect 28 0 30 0;
#X connect 30 0 38 0;
#X connect 31 0 33 0;
#X connect 31 1 34 0;
#X connect 31 2 32 0;
#X connect 35 0 24 0;
#X connect 36 1 22 0;
#X connect 36 1 27 0;
#X connect 36 2 25 0;
#X connect 37 0 35 0;
#X connect 38 1 37 0;
#X connect 38 2 23 0;
#X connect 39 0 43 0;
#X connect 39 0 45 0;
#X connect 42 0 39 0;
#X connect 44 0 42 0;
